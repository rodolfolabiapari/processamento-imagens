  img = imread("peppers_gray512.jpg");   angle = 30;  [lin col] = size(img);                  extremo_l_t = matRotacao * [1;     1; 1];  extremo_r_t = matRotacao * [1;   col; 1];  extremo_l_b = matRotacao * [lin;   1; 1];  extremo_r_b = matRotacao * [lin; col; 1];    extremos = [ extremo_l_t extremo_r_t extremo_l_b extremo_r_b ];    min_x = min(extremos(1, :));  max_x = max(extremos(1, :));  min_y = min(extremos(2, :));  max_y = max(extremos(2, :));    ncol = floor(max_x - min_x);  nlin = floor(max_y - min_y);    dx = 0 %col - ncol;  dy = extremo_r_t(1);    matRotacao = [cosd(angle) -sind(angle) 0 ;                sind(angle)  cosd(angle) 0 ;                0            0           1 ];                  matTranslacao = [1 0 dx;                   0 1 dy;                   0 0 1];    [x y] = meshgrid(1:ncol, 1:nlin);    nCoord = matRotacao * (matTranslacao * [x(:)'; y(:)'; ones(1, nlin * ncol)]);    nX = reshape(nCoord(1, :), nlin, ncol);  nY = reshape(nCoord(2, :), nlin, ncol);      [x y] = meshgrid(1:col, 1:lin);    out = interp2(x, y, double(img), nX, nY);      out = uint8(out);    imshow(out);